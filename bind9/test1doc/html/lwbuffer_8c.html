<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MyProject1: /home/stepsei/workspace/bind9/lib/lwres/lwbuffer.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MyProject1
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">--</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a1b4463e4b2f6ff4aff4dd4221cff45f.html">lwres</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">lwbuffer.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;config.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;<a class="el" href="lwbuffer_8h_source.html">lwres/lwbuffer.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="assert__p_8h_source.html">assert_p.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5bbfd49cfd6d787b3bb3c34de2c1bf0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#a5bbfd49cfd6d787b3bb3c34de2c1bf0a">lwres_buffer_init</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b, void *base, unsigned int length)</td></tr>
<tr class="separator:a5bbfd49cfd6d787b3bb3c34de2c1bf0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a463c6f815560a00769d95149538265fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#a463c6f815560a00769d95149538265fd">lwres_buffer_invalidate</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b)</td></tr>
<tr class="separator:a463c6f815560a00769d95149538265fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57a629d89a31051962cb2102d2cd947e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#a57a629d89a31051962cb2102d2cd947e">lwres_buffer_add</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b, unsigned int n)</td></tr>
<tr class="separator:a57a629d89a31051962cb2102d2cd947e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b623beacd9040015fe3600ae0e1cdd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#a01b623beacd9040015fe3600ae0e1cdd">lwres_buffer_subtract</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b, unsigned int n)</td></tr>
<tr class="separator:a01b623beacd9040015fe3600ae0e1cdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49e1228b1c07b228454c06396ba4c6d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#a49e1228b1c07b228454c06396ba4c6d8">lwres_buffer_clear</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b)</td></tr>
<tr class="separator:a49e1228b1c07b228454c06396ba4c6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affeffe70e6f76f123181c7c00f615c10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#affeffe70e6f76f123181c7c00f615c10">lwres_buffer_first</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b)</td></tr>
<tr class="separator:affeffe70e6f76f123181c7c00f615c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad06eb56e0d083b458d81203a0ff4543c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#ad06eb56e0d083b458d81203a0ff4543c">lwres_buffer_forward</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b, unsigned int n)</td></tr>
<tr class="separator:ad06eb56e0d083b458d81203a0ff4543c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a467809763aedb6edd1f111445e8751e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#a467809763aedb6edd1f111445e8751e1">lwres_buffer_back</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b, unsigned int n)</td></tr>
<tr class="separator:a467809763aedb6edd1f111445e8751e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f8d69261ac8cd5fb14c258cac09b77"><td class="memItemLeft" align="right" valign="top">lwres_uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#aa6f8d69261ac8cd5fb14c258cac09b77">lwres_buffer_getuint8</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b)</td></tr>
<tr class="separator:aa6f8d69261ac8cd5fb14c258cac09b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5a93d6c76f23749a95c43134650f718"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#ac5a93d6c76f23749a95c43134650f718">lwres_buffer_putuint8</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b, lwres_uint8_t val)</td></tr>
<tr class="separator:ac5a93d6c76f23749a95c43134650f718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1d366e48b3aab7be4ecad40e8b5cd7"><td class="memItemLeft" align="right" valign="top">lwres_uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#a1b1d366e48b3aab7be4ecad40e8b5cd7">lwres_buffer_getuint16</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b)</td></tr>
<tr class="separator:a1b1d366e48b3aab7be4ecad40e8b5cd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab697d7ef640faf70fc5ddd78207dd4e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#ab697d7ef640faf70fc5ddd78207dd4e2">lwres_buffer_putuint16</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b, lwres_uint16_t val)</td></tr>
<tr class="separator:ab697d7ef640faf70fc5ddd78207dd4e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e991e20523862c21b35b8b003d54222"><td class="memItemLeft" align="right" valign="top">lwres_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#a3e991e20523862c21b35b8b003d54222">lwres_buffer_getuint32</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b)</td></tr>
<tr class="separator:a3e991e20523862c21b35b8b003d54222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa03ada1e60ec1c029951f39ea6bc7e99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#aa03ada1e60ec1c029951f39ea6bc7e99">lwres_buffer_putuint32</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b, lwres_uint32_t val)</td></tr>
<tr class="separator:aa03ada1e60ec1c029951f39ea6bc7e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aa90c967db540272ea3a68298dd9a4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#a8aa90c967db540272ea3a68298dd9a4b">lwres_buffer_putmem</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b, const unsigned char *base, unsigned int length)</td></tr>
<tr class="separator:a8aa90c967db540272ea3a68298dd9a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0431e2d109a85da88b0f162acca3323"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwbuffer_8c.html#ac0431e2d109a85da88b0f162acca3323">lwres_buffer_getmem</a> (<a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *b, unsigned char *base, unsigned int length)</td></tr>
<tr class="separator:ac0431e2d109a85da88b0f162acca3323"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a57a629d89a31051962cb2102d2cd947e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lwres_buffer_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Increase the 'used' region of 'b' by 'n' bytes.</p>
<p>Requires:</p>
<p>'b' is a valid buffer</p>
<p>used + n &lt;= length </p>

</div>
</div>
<a class="anchor" id="a467809763aedb6edd1f111445e8751e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lwres_buffer_back </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decrease the 'consumed' region of 'b' by 'n' bytes.</p>
<p>Requires:</p>
<p>'b' is a valid buffer</p>
<p>n &lt;= current </p>

</div>
</div>
<a class="anchor" id="a49e1228b1c07b228454c06396ba4c6d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lwres_buffer_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make the used region empty.</p>
<p>Requires:</p>
<p>'b' is a valid buffer</p>
<p>Ensures:</p>
<p>used = 0 </p>

</div>
</div>
<a class="anchor" id="affeffe70e6f76f123181c7c00f615c10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lwres_buffer_first </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make the consumed region empty.</p>
<p>Requires:</p>
<p>'b' is a valid buffer</p>
<p>Ensures:</p>
<p>current == 0 </p>

</div>
</div>
<a class="anchor" id="ad06eb56e0d083b458d81203a0ff4543c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lwres_buffer_forward </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Increase the 'consumed' region of 'b' by 'n' bytes.</p>
<p>Requires:</p>
<p>'b' is a valid buffer</p>
<p>current + n &lt;= used </p>

</div>
</div>
<a class="anchor" id="ac0431e2d109a85da88b0f162acca3323"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lwres_buffer_getmem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy 'length' bytes of memory from 'b' into 'base'.</p>
<p>Requires: 'b' is a valid buffer.</p>
<p>'base' points to at least 'length' bytes of valid memory.</p>
<p>'b' have at least 'length' bytes remaining. </p>

</div>
</div>
<a class="anchor" id="a1b1d366e48b3aab7be4ecad40e8b5cd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lwres_uint16_t lwres_buffer_getuint16 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read an unsigned 16-bit integer in network byte order from 'b', convert it to host byte order, and return it.</p>
<p>Requires:</p>
<p>'b' is a valid buffer.</p>
<p>The length of the available region of 'b' is at least 2.</p>
<p>Ensures:</p>
<p>The current pointer in 'b' is advanced by 2.</p>
<p>Returns:</p>
<p>A 16-bit unsigned integer. </p>

</div>
</div>
<a class="anchor" id="a3e991e20523862c21b35b8b003d54222"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lwres_uint32_t lwres_buffer_getuint32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read an unsigned 32-bit integer in network byte order from 'b', convert it to host byte order, and return it.</p>
<p>Requires:</p>
<p>'b' is a valid buffer.</p>
<p>The length of the available region of 'b' is at least 2.</p>
<p>Ensures:</p>
<p>The current pointer in 'b' is advanced by 2.</p>
<p>Returns:</p>
<p>A 32-bit unsigned integer. </p>

</div>
</div>
<a class="anchor" id="aa6f8d69261ac8cd5fb14c258cac09b77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lwres_uint8_t lwres_buffer_getuint8 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read an unsigned 8-bit integer from 'b' and return it.</p>
<p>Requires:</p>
<p>'b' is a valid buffer.</p>
<p>The length of the available region of 'b' is at least 1.</p>
<p>Ensures:</p>
<p>The current pointer in 'b' is advanced by 1.</p>
<p>Returns:</p>
<p>A 8-bit unsigned integer. </p>

</div>
</div>
<a class="anchor" id="a5bbfd49cfd6d787b3bb3c34de2c1bf0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lwres_buffer_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>These functions provide bounds checked access to a region of memory where data is being read or written. They are based on, and similar to, the isc_buffer_ functions in the ISC library.</p>
<p>A buffer is a region of memory, together with a set of related subregions. The used region and the available region are disjoint, and their union is the buffer's region. The used region extends from the beginning of the buffer region to the last used byte. The available region extends from one byte greater than the last used byte to the end of the buffer's region. The size of the used region can be changed using various buffer commands. Initially, the used region is empty.</p>
<p>The used region is further subdivided into two disjoint regions: the consumed region and the remaining region. The union of these two regions is the used region. The consumed region extends from the beginning of the used region to the byte before the current offset (if any). The remaining region the current pointer to the end of the used region. The size of the consumed region can be changed using various buffer commands. Initially, the consumed region is empty.</p>
<p>The active region is an (optional) subregion of the remaining region. It extends from the current offset to an offset in the remaining region. Initially, the active region is empty. If the current offset advances beyond the chosen offset, the active region will also be empty.</p>
<pre class="fragment">*    /------------entire length---------------\\
*    /----- used region -----\\/-- available --\\
*    +----------------------------------------+
*    | consumed  | remaining |                |
*    +----------------------------------------+
*    a           b     c     d                e
*
*   a == base of buffer.
*   b == current pointer.  Can be anywhere between a and d.
*   c == active pointer.  Meaningful between b and d.
*   d == used pointer.
*   e == length of buffer.
*
*   a-e == entire length of buffer.
*   a-d == used region.
*   a-b == consumed region.
*   b-d == remaining region.
*   b-c == optional active region.
* </pre><p><a class="el" href="lwbuffer_8c.html#a5bbfd49cfd6d787b3bb3c34de2c1bf0a">lwres_buffer_init()</a> initializes the lwres_buffer_t *b and assocates it with the memory region of size length bytes starting at location base.</p>
<p><a class="el" href="lwbuffer_8c.html#a463c6f815560a00769d95149538265fd">lwres_buffer_invalidate()</a> marks the buffer *b as invalid. Invalidating a buffer after use is not required, but makes it possible to catch its possible accidental use.</p>
<p>The functions <a class="el" href="lwbuffer_8c.html#a57a629d89a31051962cb2102d2cd947e">lwres_buffer_add()</a> and <a class="el" href="lwbuffer_8c.html#a01b623beacd9040015fe3600ae0e1cdd">lwres_buffer_subtract()</a> respectively increase and decrease the used space in buffer *b by n bytes. <a class="el" href="lwbuffer_8c.html#a57a629d89a31051962cb2102d2cd947e">lwres_buffer_add()</a> checks for buffer overflow and <a class="el" href="lwbuffer_8c.html#a01b623beacd9040015fe3600ae0e1cdd">lwres_buffer_subtract()</a> checks for underflow. These functions do not allocate or deallocate memory. They just change the value of used.</p>
<p>A buffer is re-initialised by <a class="el" href="lwbuffer_8c.html#a49e1228b1c07b228454c06396ba4c6d8">lwres_buffer_clear()</a>. The function sets used , current and active to zero.</p>
<p><a class="el" href="lwbuffer_8c.html#affeffe70e6f76f123181c7c00f615c10">lwres_buffer_first()</a> makes the consumed region of buffer *p empty by setting current to zero (the start of the buffer).</p>
<p><a class="el" href="lwbuffer_8c.html#ad06eb56e0d083b458d81203a0ff4543c">lwres_buffer_forward()</a> increases the consumed region of buffer *b by n bytes, checking for overflow. Similarly, <a class="el" href="lwbuffer_8c.html#a467809763aedb6edd1f111445e8751e1">lwres_buffer_back()</a> decreases buffer b's consumed region by n bytes and checks for underflow.</p>
<p><a class="el" href="lwbuffer_8c.html#aa6f8d69261ac8cd5fb14c258cac09b77">lwres_buffer_getuint8()</a> reads an unsigned 8-bit integer from *b and returns it. <a class="el" href="lwbuffer_8c.html#ac5a93d6c76f23749a95c43134650f718">lwres_buffer_putuint8()</a> writes the unsigned 8-bit integer val to buffer *b.</p>
<p><a class="el" href="lwbuffer_8c.html#a1b1d366e48b3aab7be4ecad40e8b5cd7">lwres_buffer_getuint16()</a> and <a class="el" href="lwbuffer_8c.html#a3e991e20523862c21b35b8b003d54222">lwres_buffer_getuint32()</a> are identical to <a class="el" href="lwbuffer_8c.html#ac5a93d6c76f23749a95c43134650f718">lwres_buffer_putuint8()</a> except that they respectively read an unsigned 16-bit or 32-bit integer in network byte order from b. Similarly, <a class="el" href="lwbuffer_8c.html#ab697d7ef640faf70fc5ddd78207dd4e2">lwres_buffer_putuint16()</a> and <a class="el" href="lwbuffer_8c.html#aa03ada1e60ec1c029951f39ea6bc7e99">lwres_buffer_putuint32()</a> writes the unsigned 16-bit or 32-bit integer val to buffer b, in network byte order.</p>
<p>Arbitrary amounts of data are read or written from a lightweight resolver buffer with <a class="el" href="lwbuffer_8c.html#ac0431e2d109a85da88b0f162acca3323">lwres_buffer_getmem()</a> and <a class="el" href="lwbuffer_8c.html#a8aa90c967db540272ea3a68298dd9a4b">lwres_buffer_putmem()</a> respectively. <a class="el" href="lwbuffer_8c.html#a8aa90c967db540272ea3a68298dd9a4b">lwres_buffer_putmem()</a> copies length bytes of memory at base to b. Conversely, <a class="el" href="lwbuffer_8c.html#ac0431e2d109a85da88b0f162acca3323">lwres_buffer_getmem()</a> copies length bytes of memory from b to base. </p>

</div>
</div>
<a class="anchor" id="a463c6f815560a00769d95149538265fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lwres_buffer_invalidate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make 'b' an invalid buffer.</p>
<p>Requires: 'b' is a valid buffer.</p>
<p>Ensures: If assertion checking is enabled, future attempts to use 'b' without calling <a class="el" href="lwbuffer_8h.html#a5bbfd49cfd6d787b3bb3c34de2c1bf0a">lwres_buffer_init()</a> on it will cause an assertion failure. </p>

</div>
</div>
<a class="anchor" id="a8aa90c967db540272ea3a68298dd9a4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lwres_buffer_putmem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy 'length' bytes of memory at 'base' into 'b'.</p>
<p>Requires: 'b' is a valid buffer.</p>
<p>'base' points to 'length' bytes of valid memory. </p>

</div>
</div>
<a class="anchor" id="ab697d7ef640faf70fc5ddd78207dd4e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lwres_buffer_putuint16 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lwres_uint16_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Store an unsigned 16-bit integer in host byte order from 'val' into 'b' in network byte order.</p>
<p>Requires: 'b' is a valid buffer.</p>
<p>The length of the unused region of 'b' is at least 2.</p>
<p>Ensures: The used pointer in 'b' is advanced by 2. </p>

</div>
</div>
<a class="anchor" id="aa03ada1e60ec1c029951f39ea6bc7e99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lwres_buffer_putuint32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lwres_uint32_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Store an unsigned 32-bit integer in host byte order from 'val' into 'b' in network byte order.</p>
<p>Requires: 'b' is a valid buffer.</p>
<p>The length of the unused region of 'b' is at least 4.</p>
<p>Ensures: The used pointer in 'b' is advanced by 4. </p>

</div>
</div>
<a class="anchor" id="ac5a93d6c76f23749a95c43134650f718"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lwres_buffer_putuint8 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lwres_uint8_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Store an unsigned 8-bit integer from 'val' into 'b'.</p>
<p>Requires: 'b' is a valid buffer.</p>
<p>The length of the unused region of 'b' is at least 1.</p>
<p>Ensures: The used pointer in 'b' is advanced by 1. </p>

</div>
</div>
<a class="anchor" id="a01b623beacd9040015fe3600ae0e1cdd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lwres_buffer_subtract </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwbuffer_8h.html#ae901fe1c7f37ff8893383c66e8200d4c">lwres_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decrease the 'used' region of 'b' by 'n' bytes.</p>
<p>Requires:</p>
<p>'b' is a valid buffer</p>
<p>used &gt;= n </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
